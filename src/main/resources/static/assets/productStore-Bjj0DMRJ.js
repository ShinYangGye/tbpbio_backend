import{i as D,j as b,k as N,l as r,m as g,p as I,q as M}from"./index-CdIVi8zB.js";const u=b(),y=D("product",()=>{const e=N({menus:[],menuMainId:0,menuSubId:0,menuDetail:{name:"",info:"",fileName:"",menuSub:{}},menuSubDetail:{},products:[],productDetail:{},navString:"제품정보"});async function l(){try{let n=await r();if(n.status==200){if(e.menus=n.data,e.menus.length==0)return;const a=n.data.find(t=>t.id==e.menuMainId);a==null||a==null?(e.menuDetail.name=n.data[0].menuName,e.menuDetail.info=n.data[0].menuInfo,e.menuDetail.fileName=n.data[0].file.savedFileName,e.menuDetail.menuSub=n.data[0].menuSub):(e.menuDetail.name=a.menuName,e.menuDetail.info=a.menuInfo,e.menuDetail.fileName=a.file.savedFileName,e.menuDetail.menuSub=a.menuSub,e.menuSubDetail=a.menuSub.find(t=>t.id==e.menuSubId)),e.navString=e.menuDetail.name}else u.info("데이타 조회시 오류가 발생했습니다. 잠시후 다시 확인해 주세요.")}catch(n){u.error("데이타 조회시 오류가 발생했습니다. 잠시후 다시 확인해 주세요."),console.log(n)}}async function s(n){try{e.menuDetail.name=n.menuName,e.menuDetail.info=n.menuInfo,e.menuDetail.fileName=n.file.savedFileName,e.menuDetail.menuSub=n.menuSub,e.menuMainId=n.id,e.navString=e.menuDetail.name}catch(a){u.error("데이타 조회시 오류가 발생했습니다. 잠시후 다시 확인해 주세요."),console.log(a)}}async function d(n){try{let a="",t="";const m=(await r()).data.find(i=>i.id==e.menuMainId);a=m.menuName,e.menuSubDetail=m.menuSub.find(i=>i.id==e.menuSubId),t=e.menuSubDetail.menuName,console.log("--------------",m),e.navString=a+" ▶ "+t;let o=await g(n);o.status==200?e.products=o.data:u.error("데이타 조회시 오류가 발생했습니다. 잠시후 다시 확인해 주세요1")}catch(a){u.error("데이타 조회시 오류가 발생했습니다. 잠시후 다시 확인해 주세요2"),console.log(a)}}async function c(){try{let n=await I();n.status==200?e.products=n.data:u.error("데이타 조회시 오류가 발생했습니다. 잠시후 다시 확인해 주세요1")}catch(n){u.error("데이타 조회시 오류가 발생했습니다. 잠시후 다시 확인해 주세요2"),console.log(n)}}async function f(n){try{let a="",t="";const m=(await r()).data.find(i=>i.id==e.menuMainId);a=m.menuName,e.menuSubDetail=m.menuSub.find(i=>i.id==e.menuSubId),t=e.menuSubDetail.menuName,e.navString=a+" ▶ "+t;let o=await M(n);o.status==200?e.productDetail=o.data:u.error("데이타 조회시 오류가 발생했습니다. 잠시후 다시 확인해 주세요")}catch(a){u.error("데이타 조회시 오류가 발생했습니다. 잠시후 다시 확인해 주세요"),console.log(a)}}return{state:e,doGetMenus:l,doGetMenuInfo:s,doGetProducts:d,doGetProductDetail:f,doGetProdutTop:c}});export{y as u};
